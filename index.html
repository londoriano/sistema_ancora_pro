<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Âncora Consultoria Financeira</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
</head>
<body class="bg-login d-flex align-items-center justify-content-center">

   <div class="col-md-4 glass-panel p-5 text-center">
        <h3 class="mb-4 fw-bold text-dark">ÂNCORA <span class="text-primary">CONSULTORIA</span></h3>
        <p class="text-muted mb-4 small">Sistema de Gestão Privada</p>
        
        <div class="mb-3 text-start">
            <label class="form-label fw-bold">Senha de Acesso</label>
            <div class="input-group">
                <input type="password" id="senhaInput" class="form-control form-control-lg" placeholder="••••••••">
                <button class="btn btn-outline-secondary" type="button" onclick="toggleSenha()">
                    <i class="bi bi-eye" id="iconeOlho"></i>
                </button>
            </div>
        </div>
        
        <button onclick="tentarLogin()" class="btn btn-primary w-100 btn-lg mb-3">Acessar Sistema</button>
        
        <div id="erroMsg" class="alert alert-danger mt-2" style="display:none"></div>

        <div id="licencaMsg" class="mt-4 text-muted" style="font-size: 0.75rem; opacity: 0.8;">
            Verificando licença...
        </div>
    </div>

    <footer>
        Âncora Consultoria Financeira 2026 &copy; Todos os direitos reservados.
    </footer>

    <script src="app.js"></script>
    <script>
        function toggleSenha() {
            const input = document.getElementById('senhaInput');
            const icon = document.getElementById('iconeOlho');
            if (input.type === "password") {
                input.type = "text";
                icon.classList.remove('bi-eye');
                icon.classList.add('bi-eye-slash');
            } else {
                input.type = "password";
                icon.classList.remove('bi-eye-slash');
                icon.classList.add('bi-eye');
            }
        }

        function tentarLogin() {
            const senha = document.getElementById('senhaInput').value;
            const msg = document.getElementById('erroMsg');
            let erros = parseInt(localStorage.getItem(TENTATIVAS_KEY) || 0);

            if (senha === SENHA_MESTRA) {
                localStorage.setItem(TENTATIVAS_KEY, 0); 
                sessionStorage.setItem(SESSAO_KEY, "true");
                window.location.href = 'clientes.html';
            } else {
                erros++;
                localStorage.setItem(TENTATIVAS_KEY, erros);
                msg.style.display = 'block';
                if (erros >= 10) {
                    localStorage.removeItem(DB_KEY);
                    localStorage.setItem(TENTATIVAS_KEY, 0);
                    msg.innerHTML = "<strong>SISTEMA RESETADO.</strong><br>Dados apagados por segurança.";
                } else {
                    msg.innerText = `Senha Incorreta. Tentativa ${erros}/10.`;
                    document.getElementById('senhaInput').value = "";
                }
            }
        }
        
        document.getElementById('senhaInput').addEventListener('keypress', function (e) {
            if (e.key === 'Enter') tentarLogin();
        });
    </script>
</body>
</html>